Name:           perl-Nagios-Plugin-Simple
Version:        0.06
Release:        3%{?dist}
Summary:        Simple and Minimalistic Nagios Plugin Package
License:        Distributable, see LICENSE
Group:          Development/Libraries
URL:            http://search.cpan.org/dist/Nagios-Plugin-Simple/
Source0:        http://www.cpan.org/modules/by-module/Nagios/Nagios-Plugin-Simple-%{version}.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
BuildArch:      noarch
BuildRequires:  perl(ExtUtils::MakeMaker)
BuildRequires:  perl(Test::Simple) >= 0.44
Requires:       perl(:MODULE_COMPAT_%(eval "`%{__perl} -V:version`"; echo $version))

%description
This is the package that I use mostly because I feel the Nagios::Plugin is
too encompassing. I feel that it is the scripts responsibility to handle
arguments and thus this package does not do that nor will do that. If you
want argument handling use one of the GetOpt packages.

%prep
%setup -q -n Nagios-Plugin-Simple-%{version}

%build
%{__perl} Makefile.PL INSTALLDIRS=vendor
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT

make pure_install PERL_INSTALL_ROOT=$RPM_BUILD_ROOT

find $RPM_BUILD_ROOT -type f -name .packlist -exec rm -f {} \;
find $RPM_BUILD_ROOT -depth -type d -exec rmdir {} 2>/dev/null \;

%{_fixperms} $RPM_BUILD_ROOT/*

%check
make test

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%doc Changes LICENSE README Todo
%{perl_vendorlib}/*
%{_mandir}/man3/*

%changelog
* Mon Jan 17 2011 Michael R. Davis (mdavis@stopllc.com) 0.05-1
- Specfile autogenerated by cpanspec 1.78.
